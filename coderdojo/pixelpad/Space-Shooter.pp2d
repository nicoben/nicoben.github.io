{"assets":{"script":[{"Game":{"type":"game script","start":"set_room('Start')\r\n","loop":""}}],"room":[{"Start":{"type":"room script","start":"background = new_object('Background')\n\nself.titleText = new_text(\"Space Shooter\", -360, 320)\nself.titleText.color = \"white\"\nself.titleText.fontSize = 120\n\nself.instructionsText = new_text(\"Press enter to start\", -170, -280)\nself.instructionsText.color = \"yellow\"\nself.instructionsText.fontSize = 40\n","loop":"if key_is_pressed('Enter'):\n    room_set('Play')"}},{"Play":{"type":"room script","start":"game.background = new_object(\"Background\")\ngame.player = new_object('Player')\ngame.spawner = new_object('Spawner')\n\ngame.score = 0\n\ngame.scoreText = new_text('Score: 0', -600, 330)\ngame.scoreText.color = \"red\"\ngame.scoreText.fontSize = 50\n","loop":""}},{"GameOver":{"type":"room script","start":"game.background = object_new('Background')\ngame.background.alpha = 0.5\n\ngame.gameOverText = new_text(\"Game Over\", -240, 320)\ngame.gameOverText.color = \"white\"\ngame.gameOverText.fontSize = 120\n\ngame.scoreText = new_text(game.score, 0, 50)\ngame.scoreText.color = \"white\"\ngame.scoreText.fontSize = 150\n\ngame.instructionsText = new_text(\"Press enter to play again\", -170, -280)\ngame.instructionsText.color = \"yellow\"\ngame.instructionsText.fontSize = 40\n","loop":"if key_is_pressed('Enter'):\n    room_set('Play')"}}],"texture":[{"player.png":{"type":"image","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__ASSET__.16841.200661.1624478951.player.png"}},{"space.jpg":{"type":"image","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__ASSET__.16841.200661.1624478979.space.jpg"}},{"powerUp.png":{"type":"image","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__ASSET__.16841.200661.1624478984.powerUp.png"}},{"bullet.png":{"type":"image","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__ASSET__.16841.200661.1624478995.bullet.png"}},{"enemy.png":{"type":"image","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__ASSET__.33310.660245.1663599400.enemy.png"}},{"explosion_sheet.png":{"type":"image","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__ASSET__.33310.660245.1663600619.explosion_sheet.png"}}],"sound":[{"spaceshipShooting.mp3":{"type":"audio","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__PIXELPAD_ASSET__.16841.200661.spaceshipShooting.mp3"}},{"enemyHit.mp3":{"type":"audio","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__PIXELPAD_ASSET__.16841.200661.enemyHit.mp3"}},{"gotPowerUp.wav":{"type":"audio","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__ASSET__.33310.660245.1663597595.gotPowerUp.wav"}},{"lostPowerUp.wav":{"type":"audio","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__ASSET__.33310.660245.1663597604.lostPowerUp.wav"}},{"playerDeath.mp3":{"type":"audio","uri":"https://s3.us-west-1.amazonaws.com/media.pixelpad.io/__PIXELPAD_ASSET__.16841.200661.playerDeath.mp3"}}],"function":[{"constants.py":{"type":"function script","head":"FPS = 30 # framnes per second\n\nSCREEN_WIDTH = 1280\nSCREEN_MAX_X = SCREEN_WIDTH / 2\nSCREEN_MIN_X = -SCREEN_MAX_X\n\nSCREEN_HEIGHT = 720\nSCREEN_MAX_Y = SCREEN_HEIGHT / 2\nSCREEN_MIN_Y = -SCREEN_MAX_Y\n"}},{"imports.py":{"type":"function script","head":"import random\n"}},{"base.py":{"type":"function script","head":"class GameBase(superclass):\n\n    def __init__(self, sprite=None):\n        super().__init__(sprite)\n        add_room_object(self)\n        self.start()\n\n    def start(self):\n        pass\n\n    def loop(self):\n        pass\n\nclass GameObject(GameBase):\n\n    def __init__(self, sprite=None):\n        self._type = \"object script\"\n        super().__init__(sprite)\n\nclass GameRoom(GameBase):\n\n    def __init__(self, sprite=None):\n        self._type = \"room script\"\n        super().__init__(sprite)\n"}},{"player.py":{"type":"function script","head":"class Player(GameObject):\n\n    def start(self):\n        self.sprite = new_sprite('player.png')\n        self.y = 0.85 * SCREEN_MIN_Y\n        self.speed = 5\n\n        self.hasPowerUp = False\n        self.powerUpTimer = 0\n        self.timeToUsePowerUp = 5 * FPS\n\n        self.shootingSound = new_sound('spaceshipShooting.mp3')\n        self.gotPowerUpSound = sound_new('gotPowerUp.wav')\n        self.lostPowerUpSound = new_sound('lostPowerUp.wav')\n        self.deathSound = new_sound('playerDeath.mp3')\n\n    def loop(self):\n        self.handleKeyboard()\n        self.handleEnemy()\n        self.handlePowerUp()\n\n    def handleKeyboard(self):\n        if key_is_pressed('D') or key_is_pressed('arrowright'):\n            self.moveRight()\n\n        if key_is_pressed('A') or key_is_pressed('arrowleft'):\n            self.moveLeft()\n\n        if key_is_pressed('W') or key_is_pressed('arrowup'):\n            self.moveUp()\n\n        if key_is_pressed('S') or key_is_pressed('arrowdown'):\n            self.moveDown()\n\n        if key_was_pressed(' '):\n            self.shoot()\n\n    def handleEnemy(self):\n        enemy = collision_check(self, 'Enemy')\n        if enemy:\n            play_sound(self.deathSound)\n            destroy(enemy)\n            set_room('GameOver')\n\n    def handlePowerUp(self):\n        powerUp = collision_check(self, 'PowerUp')\n        if powerUp:\n            sound_play(self.gotPowerUpSound)\n            destroy(powerUp)\n            self.powerUpTimer = 5 * FPS\n            print(self.powerUpTimer)\n\n        if self.powerUpTimer > 0:\n            self.powerUpTimer -= 1\n            if self.powerUpTimer == 0:\n                play_sound(self.lostPowerUpSound)\n\n    def moveLeft(self):\n        self.x -= self.speed\n        self.x = max(self.x, SCREEN_MIN_X)\n\n    def moveRight(self):\n        self.x += self.speed\n        self.x = min(self.x, SCREEN_MAX_X)\n\n    def moveUp(self):\n        self.y += self.speed\n        self.y = min(self.y, SCREEN_MAX_Y)\n\n    def moveDown(self):\n        self.y -= self.speed\n        self.y = max(self.y, SCREEN_MIN_Y)\n\n    def shoot(self):\n        play_sound(self.shootingSound)\n        deltas = [-35, 0, 35] if self.powerUpTimer > 0 else [0]\n        for delta in deltas:\n            bullet = new_object('Bullet')\n            bullet.x = self.x + delta\n            bullet.y = self.y\n"}},{"enemy.py":{"type":"function script","head":"class Enemy(GameObject):\n\n    def start(self):\n        self.sprite = new_sprite('enemy.png')\n\n        self.x = random.uniform(0.95 * SCREEN_MIN_X, 0.95 * SCREEN_MAX_X)\n        self.y = 1.1 * SCREEN_MAX_Y\n\n        self.speed = random.uniform(2, 5)\n\n        self.scaleX = 0.5\n        self.scaleY = 0.5\n\n    def loop(self):\n        self.y -= self.speed \n\n        if self.y < 1.05 * SCREEN_MIN_Y:\n            destroy(self)"}},{"bullet.py":{"type":"function script","head":"class Bullet(GameObject):\n\n    def start(self):\n        self.sprite = new_sprite('bullet.png')\n\n        self.speed = 15\n\n        self.hitSound = new_sound('enemyHit.mp3')\n\n    def loop(self):\n        self.y += self.speed\n\n        self.handleEnemy()\n\n        if self.y > 1.05 * SCREEN_MAX_Y:\n            destroy(self)\n\n    def handleEnemy(self):\n        enemy = collision_check(self, 'Enemy')\n        if enemy:\n            play_sound(self.hitSound)\n            destroy(enemy)\n            explosion = new_object('Explosion')\n            explosion.x = enemy.x\n            explosion.y = enemy.y\n\n            game.score += 1\n            game.scoreText.text = 'Score: ' + str(game.score)\n            destroy(self)\n"}},{"spawner.py":{"type":"function script","head":"class Spawner(GameObject):\n\n    def start(self):\n        self.visible = False\n\n        self.enemyTimer = 1 * FPS\n        self.powerUpTimer = 2 * FPS\n\n    def loop(self):\n        self.enemyTimer -= 1\n        if self.enemyTimer <= 0:\n            enemy = new_object('Enemy')\n            self.enemyTimer = random.uniform(1 * FPS, 2 * FPS)\n\n        self.powerUpTimer -= 1\n        if self.powerUpTimer <= 0:\n            powerUp = new_object('PowerUp')\n            self.powerUpTimer = random.uniform(5 * FPS, 10 * FPS)\n"}},{"background.py":{"type":"function script","head":"class Background(GameObject):\n\n    def start(self):\n        self.sprite = new_sprite('space.jpg')\n"}},{"powerup.py":{"type":"function script","head":"class PowerUp(GameObject):\n\n    def start(self):\n        self.sprite = sprite_new('powerUp.png')\n\n        self.x = random.uniform(0.95 * SCREEN_MIN_X, 0.95 * SCREEN_MAX_X)\n        self.y = 1.1 * SCREEN_MAX_Y\n\n        self.speed = random.uniform(2, 5)\n\n    def loop(self):\n        self.y -= self.speed\n\n        if self.y < 1.05 * SCREEN_MIN_Y:\n            destroy(self)\n"}},{"explosion.py":{"type":"function script","head":"class Explosion(GameObject):\n\n    def start(self):\n        spriteSheet = new_sprite(\"explosion_sheet.png\", 5, 5)\n        animation = new_animation(spriteSheet, 30, 0, 24)\n        set_animation(self, animation)\n\n        self.timer = 1 * FPS\n\n    def loop(self):\n        self.timer -= 1\n\n        if self.timer == 0:\n            destroy(self)\n"}}]}}